---
phase: 04-animation
plan: 02
type: execute
wave: 2
depends_on: ["04-01"]
files_modified:
  - src/components/motion/Typewriter.tsx
  - src/components/sections/Hero.tsx
  - public/me.png
autonomous: true

must_haves:
  truths:
    - "Headline types out character by character at ~70ms pace"
    - "Cursor blinks during typing, then blinks a few times and fades after completion"
    - "Subtext and CTA appear together via fade-up after headline completes"
    - "Nav is visible immediately (not animated)"
    - "Hero photo is visible when page loads"
  artifacts:
    - path: "src/components/motion/Typewriter.tsx"
      provides: "Typewriter effect component with blinking cursor"
      exports: ["Typewriter"]
    - path: "src/components/sections/Hero.tsx"
      provides: "Animated hero with orchestrated page load"
      contains: "'use client'"
  key_links:
    - from: "src/components/sections/Hero.tsx"
      to: "src/components/motion/Typewriter.tsx"
      via: "Component import and render"
      pattern: "<Typewriter"
    - from: "src/components/sections/Hero.tsx"
      to: "src/lib/motion.ts"
      via: "Variant imports"
      pattern: "fadeUpVariants"
---

<objective>
Create typewriter effect for hero headline and orchestrate page load animation sequence.

Purpose: First impression sets the tone. Typewriter gives "watching someone craft" feeling. Orchestrated reveal (headline -> subtext + CTA) creates narrative flow.

Output: Animated Hero section with typewriter headline and staggered content reveal
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/04-animation/04-CONTEXT.md
@.planning/phases/04-animation/04-RESEARCH.md
@.planning/phases/04-animation/04-01-SUMMARY.md
@src/components/sections/Hero.tsx
@src/lib/motion.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Typewriter component</name>
  <files>
    - src/components/motion/Typewriter.tsx
  </files>
  <action>
Create `src/components/motion/Typewriter.tsx`:

1. 'use client' directive

2. Props interface:
   - text: string
   - speed?: number (default 70ms)
   - className?: string
   - onComplete?: () => void

3. State:
   - displayedText: string (starts empty)
   - isComplete: boolean
   - showCursor: boolean (starts true)

4. Typing effect (useEffect):
   - If displayedText.length < text.length, setTimeout to add next character
   - Else: set isComplete true, call onComplete, start cursor fade timer

5. Cursor fade (useEffect after completion):
   - After 2 seconds of blinking, set showCursor to false

6. Render:
   - span with className containing displayedText
   - Cursor: m.span with animate={{ opacity: isComplete ? [1, 0] : 1 }}
   - Cursor transition: repeat Infinity during typing, repeat 3 when complete, duration 0.5
   - Cursor styling: inline-block w-[3px] h-[0.9em] bg-amber-400 ml-0.5 align-middle
   - AnimatePresence wrapping cursor for fade-out exit

Use `m` component from 'motion/react' (not `motion`) per LazyMotion requirement.
  </action>
  <verify>
    - `ls src/components/motion/Typewriter.tsx` exists
    - `grep -q "m.span" src/components/motion/Typewriter.tsx` (uses m not motion)
    - `grep -q "onComplete" src/components/motion/Typewriter.tsx` (has callback)
    - TypeScript compiles: `npx tsc --noEmit`
  </verify>
  <done>
    Typewriter component exists with character-by-character reveal, blinking cursor, and completion callback.
  </done>
</task>

<task type="auto">
  <name>Task 2: Convert Hero to animated client component</name>
  <files>
    - src/components/sections/Hero.tsx
    - public/me.png
  </files>
  <action>
1. First, create a placeholder hero image:
   - Check if public/me.png exists
   - If not, create a placeholder by downloading a sample image or using a colored rectangle
   - For now, use a placeholder: `curl -o public/me.png "https://placehold.co/400x500/1a1a2e/f5f5f0?text=Photo"`
   - (User can replace with real photo later)

2. Convert Hero to client component with animation:
   - Add 'use client' directive
   - Import { useState } from 'react'
   - Import { m } from 'motion/react'
   - Import { Typewriter } from '@/components/motion/Typewriter'
   - Import { fadeUpVariants } from '@/lib/motion'
   - Import Image from 'next/image'

3. Add state:
   - `const [headlineComplete, setHeadlineComplete] = useState(false)`

4. Keep background layers static (not animated)

5. Add hero photo to the right side:
   - Position absolutely or in a flex layout
   - Photo visible immediately (no animation on photo itself)
   - Photo styling: rounded, soft shadow, positioned to right of content
   - z-index below text content

6. Animate headline with Typewriter:
   ```tsx
   <h1 className="text-display font-serif text-text-primary mb-6">
     <Typewriter
       text="Been burned by developers before?"
       speed={70}
       onComplete={() => setHeadlineComplete(true)}
     />
   </h1>
   ```

7. Animate subtext + CTA together (after headline):
   - Wrap in m.div with fadeUpVariants
   - initial="hidden", animate={headlineComplete ? "visible" : "hidden"}
   - Both p and a elements inside this single animated wrapper (simultaneous)

Layout update:
- Use flex layout with content on left, photo on right
- On mobile: stack vertically, photo above or below
- Photo should be soft-focused/warm-toned to match golden hour mood
  </action>
  <verify>
    - `grep -q "'use client'" src/components/sections/Hero.tsx` (is client component)
    - `grep -q "Typewriter" src/components/sections/Hero.tsx` (uses Typewriter)
    - `grep -q "headlineComplete" src/components/sections/Hero.tsx` (has orchestration state)
    - `ls public/me.png` exists
    - TypeScript compiles: `npx tsc --noEmit`
  </verify>
  <done>
    Hero section has typewriter headline, orchestrated subtext/CTA reveal after completion, and hero photo visible immediately.
  </done>
</task>

</tasks>

<verification>
1. Typewriter functionality:
   - Cursor blinks during typing
   - Characters appear one by one
   - onComplete callback fires when done
   - Cursor fades after completion

2. Hero orchestration:
   - Headline types out (~70ms per character)
   - Subtext + CTA wait for headline to complete
   - Subtext + CTA fade-up together
   - Photo visible immediately (not animated)

3. Code quality:
   - Uses `m` component (not `motion`)
   - Uses shared variants from lib/motion.ts
   - TypeScript compiles without errors
</verification>

<success_criteria>
- Typewriter component renders characters at ~70ms intervals
- Cursor blinks during typing, blinks after, then fades
- Hero headline uses Typewriter with onComplete callback
- Subtext and CTA fade-up together after headline completes
- Hero photo visible immediately
- No TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/04-animation/04-02-SUMMARY.md`
</output>
