---
phase: 01-foundation
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - app/page.tsx
autonomous: false

must_haves:
  truths:
    - "Design system renders correctly on mobile (320px), tablet (768px), and desktop (1440px)"
    - "Grain texture is visible but does not block button clicks"
    - "LCP measurement is under 2.5 seconds"
    - "Typography hierarchy is clear and readable at all sizes"
  artifacts:
    - path: "app/page.tsx"
      provides: "Responsive test page with interactive elements"
      contains: "@container"
  key_links:
    - from: "app/page.tsx"
      to: "globals.css @theme"
      via: "Tailwind utility classes"
      pattern: "bg-base|text-amber|shadow-"
---

<objective>
Verify responsive behavior and performance of the design system foundation.

Purpose: Ensure the foundation meets requirements (FOUND-05: responsive, FOUND-06: LCP < 2.5s) before building content layers.
Output: Verified, responsive design system with documented performance baseline.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/01-foundation/01-01-SUMMARY.md
@.planning/phases/01-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add responsive and interactive test elements</name>
  <files>app/page.tsx</files>
  <action>
Enhance the test page from Plan 01 to verify:
1. Responsive behavior with container queries
2. Interactive elements (buttons) work through grain overlay
3. Viewport-specific layouts

Add to app/page.tsx:

```tsx
{/* Responsive test section - add after existing sections */}
<section className="py-8 border-t border-base-700">
  <h2 className="text-h2 font-serif mb-6">Responsive Test</h2>

  {/* Container query demo */}
  <div className="@container">
    <div className="@sm:flex @sm:gap-8 space-y-4 @sm:space-y-0">
      <div className="flex-1 p-6 bg-base-800 rounded-lg shadow-md">
        <h3 className="text-h3 font-serif mb-2">Card One</h3>
        <p className="text-body text-text-secondary">
          This card responds to container width, not viewport.
        </p>
      </div>
      <div className="flex-1 p-6 bg-base-800 rounded-lg shadow-md">
        <h3 className="text-h3 font-serif mb-2">Card Two</h3>
        <p className="text-body text-text-secondary">
          At narrow widths, cards stack. At wider widths, they sit side by side.
        </p>
      </div>
    </div>
  </div>
</section>

{/* Interactive test section */}
<section className="py-8 border-t border-base-700">
  <h2 className="text-h2 font-serif mb-6">Interactive Test</h2>
  <p className="text-body text-text-secondary mb-4">
    Click these buttons to verify grain overlay does not block interactions:
  </p>
  <div className="flex flex-wrap gap-4">
    <button
      className="px-6 py-3 bg-amber-500 text-base-950 rounded-md shadow-md font-medium hover:bg-amber-400 transition-colors"
      onClick={() => alert('Primary button works!')}
    >
      Primary Action
    </button>
    <button
      className="px-6 py-3 bg-base-700 text-text-primary rounded-md shadow-sm hover:bg-base-600 transition-colors"
      onClick={() => alert('Secondary button works!')}
    >
      Secondary Action
    </button>
    <a
      href="#top"
      className="px-6 py-3 text-amber-400 hover:text-amber-300 underline underline-offset-4"
    >
      Link Element
    </a>
  </div>
</section>

{/* Viewport indicator for testing */}
<div className="fixed bottom-4 right-4 px-3 py-1 bg-base-800/90 rounded text-small text-text-muted">
  <span className="sm:hidden">XS (&lt;640)</span>
  <span className="hidden sm:inline md:hidden">SM (640-767)</span>
  <span className="hidden md:inline lg:hidden">MD (768-1023)</span>
  <span className="hidden lg:inline xl:hidden">LG (1024-1279)</span>
  <span className="hidden xl:inline">XL (1280+)</span>
</div>
```

Mark the page as client component by adding `'use client'` at the top (required for onClick handlers).
  </action>
  <verify>
- Page renders with interactive sections
- Viewport indicator shows current breakpoint in bottom-right
- Container query cards respond to container size
  </verify>
  <done>Test page includes responsive and interactive verification elements</done>
</task>

<task type="auto">
  <name>Task 2: Measure initial performance baseline</name>
  <files>none (measurement only)</files>
  <action>
Run production build and measure performance:

1. Build the project: `npm run build`
2. Start production server: `npm run start`
3. Run Lighthouse CLI: `npx lighthouse http://localhost:3000 --output=json --output-path=./lighthouse-baseline.json --only-categories=performance`

If Lighthouse CLI not available, document:
- Build output size from `npm run build` terminal output
- Note: Full Lighthouse audit will be done in Phase 5

Record in summary:
- Build success/failure
- Total bundle size (JS + CSS)
- Any build warnings

Note: LCP < 2.5s requirement will be fully validated in Phase 5. This establishes baseline.
  </action>
  <verify>
- `npm run build` completes without errors
- Production server starts at localhost:3000
- Page loads quickly (subjective check - should feel instant)
  </verify>
  <done>Production build verified, baseline performance documented</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Design system foundation with typography, colors, grain texture, shadows, and responsive layout.
  </what-built>
  <how-to-verify>
1. **Start dev server:** Run `npm run dev` and visit http://localhost:3000

2. **Typography check:**
   - Headlines should use Fraunces serif (elegant, high-contrast)
   - Body text should use Open Sans (warm, readable)
   - Text should feel like it "sinks into" the page

3. **Color check:**
   - Background should be deep slate (dark but not pure black)
   - Amber accents should "glow" against the slate
   - Text should be warm off-white (cream tint, not stark white)

4. **Grain texture check:**
   - Subtle noise/grain visible over entire page
   - Creates "atmospheric depth" without being distracting
   - Should NOT block clicking buttons (test the Primary/Secondary buttons)

5. **Shadow check:**
   - Cards should appear to float slightly
   - Shadows should be soft and diffused, not harsh
   - Shadow color should have cool blue tint (not pure black)

6. **Responsive check:**
   - Resize browser from 320px to 1440px+
   - Typography should scale smoothly (no jarring jumps)
   - Container query cards should stack on mobile, side-by-side on wider screens
   - Viewport indicator in bottom-right shows current breakpoint

7. **Overall mood:**
   - Does it feel like "a well-organized workshop at golden hour"?
   - Is there a sense of craft and care?
   - Would a weary visitor feel at ease?
  </how-to-verify>
  <resume-signal>
Type "approved" if the design system meets the "workshop at golden hour" mood.
If issues exist, describe what needs adjustment (e.g., "grain too strong", "amber not warm enough", "shadows too harsh").
  </resume-signal>
</task>

</tasks>

<verification>
Phase 1 Foundation is complete when:
1. Typography: Fraunces serif headlines, Open Sans body, fluid scaling
2. Colors: Deep slate base, warm amber accents, cream text - all via CSS variables
3. Grain: Visible atmospheric texture, does not block interactions
4. Shadows: Layered, soft, cool-tinted
5. Responsive: Works from 320px to 1440px+
6. Performance: Build succeeds, page loads quickly
7. Human verification: "Workshop at golden hour" mood achieved
</verification>

<success_criteria>
- All interactive elements work through grain overlay
- Container queries adapt layout to container size
- Typography scales fluidly without breakpoint jumps
- Production build completes successfully
- Human approves the visual foundation
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-02-SUMMARY.md`
</output>
