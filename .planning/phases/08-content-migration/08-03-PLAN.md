---
phase: 08-content-migration
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - src/data/projects.ts
  - src/types/project.ts
  - src/components/sections/Projects.tsx
  - src/components/sections/ProjectDetail.tsx
  - messages/en.json
  - messages/fr.json
autonomous: true

must_haves:
  truths:
    - "Project taglines display in French when FR locale selected"
    - "Project challenge/approach/result display in French when FR locale selected"
    - "Project hover bubbles display in French when FR locale selected"
    - "Project section header/footer display in French when FR locale selected"
    - "Project detail labels (Challenge, Approach, Result, Built with) display in French"
  artifacts:
    - path: "src/data/projects.ts"
      provides: "Locale-keyed project content"
      contains: "content:"
    - path: "src/types/project.ts"
      provides: "Localized project type definitions"
      contains: "LocalizedContent"
    - path: "src/components/sections/Projects.tsx"
      provides: "Localized Projects component"
      contains: "useLocale"
    - path: "src/components/sections/ProjectDetail.tsx"
      provides: "Localized ProjectDetail component"
      contains: "useLocale"
  key_links:
    - from: "src/components/sections/Projects.tsx"
      to: "src/data/projects.ts"
      via: "locale-keyed content access"
      pattern: "content\\[locale\\]"
    - from: "src/components/sections/ProjectDetail.tsx"
      to: "messages/*.json"
      via: "t() for labels"
      pattern: "t\\('projects\\."
---

<objective>
Add locale-keyed content to projects data and refactor Projects/ProjectDetail components to render French content when FR locale selected.

Purpose: Project case studies demonstrate credibility - French visitors need to understand challenges, approaches, and results in their language.
Output: Localized project data, localized bubble data, Projects.tsx and ProjectDetail.tsx consuming translations.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/08-content-migration/08-RESEARCH.md
@src/lib/i18n.tsx
@src/data/projects.ts
@src/types/project.ts
@src/components/sections/Projects.tsx
@src/components/sections/ProjectDetail.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update project types and add locale-keyed content to projects.ts</name>
  <files>src/types/project.ts, src/data/projects.ts</files>
  <action>
1. Update src/types/project.ts to support localized content:

Add at top:
```typescript
import type { Locale } from '@/lib/i18n'

/**
 * Localized content for translatable project fields
 */
export interface LocalizedContent {
  tagline: string
  challenge: string
  approach: string
  result: string
  cursorText?: string
}
```

Update BaseProject interface - replace direct strings with locale-keyed content:
```typescript
interface BaseProject {
  id: string
  title: string  // Keep as string - proper noun
  thumbnail: string
  images: string[]
  technologies: string[]
  /** Locale-keyed content for translations */
  content: {
    [K in Locale]: LocalizedContent
  }
}
```

Remove from BaseProject: tagline, challenge, approach, result, cursorText (now in content)

2. Update src/data/projects.ts with locale-keyed content:

Keep existing project structure but move tagline, challenge, approach, result, cursorText into content object with EN and FR versions.

Example for first project:
```typescript
{
  id: 'codex-grove',
  title: 'Codex Grove',
  thumbnail: '/images/codex-grove-logo.png',
  images: [...],
  status: 'coming-soon',
  technologies: ['Next.js', 'TypeScript', ...],
  content: {
    en: {
      tagline: 'Knowledge management platform with AI-powered documentation assistant',
      challenge: 'Organizations struggle with scattered documentation and tribal knowledge...',
      approach: 'Building a unified platform combining Kanban task management...',
      result: 'Shipping with over 220K+ lines of TypeScript...',
      cursorText: 'Explore the knowledge platform',
    },
    fr: {
      tagline: 'Plateforme de gestion des connaissances avec assistant IA',
      challenge: 'Les organisations luttent contre une documentation eparpillee et un savoir tribal...',
      approach: 'Construction d\'une plateforme unifiee combinant gestion Kanban...',
      result: 'Livraison avec plus de 220 000 lignes de TypeScript...',
      cursorText: 'Explorez la plateforme',
    },
  },
}
```

Translate all 4 projects with:
- Technical terms kept in English (Kanban, OCR, FSRS, API, TypeScript)
- Emotional tone preserved
- Use "vous" throughout
- Proper accents
  </action>
  <verify>
TypeScript compiles: `npx tsc --noEmit`
Projects have content.fr: `grep "content:" src/data/projects.ts | head -1`
  </verify>
  <done>
Project types updated with LocalizedContent interface.
All projects have content.en and content.fr with translated fields.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add project labels to JSON and refactor Projects.tsx</name>
  <files>messages/en.json, messages/fr.json, src/components/sections/Projects.tsx</files>
  <action>
1. Add to messages/en.json under "projects":
```json
{
  "projects": {
    "title": "Work",
    "placeholder": "Projects content placeholder",
    "header": "Real projects, real results. Click any card to see the full story behind the build.",
    "footer": "More in the works. The best is yet to come.",
    "coming_soon": "Coming Soon"
  }
}
```

2. Add to messages/fr.json under "projects":
```json
{
  "projects": {
    "title": "Realisations",
    "placeholder": "Contenu des projets a venir",
    "header": "Des projets reels, des resultats reels. Cliquez sur une carte pour decouvrir l'histoire complete.",
    "footer": "D'autres projets en cours. Le meilleur reste a venir.",
    "coming_soon": "Bientot disponible"
  }
}
```

3. Create locale-keyed bubble data in Projects.tsx:

Replace the projectBubbles object with locale-keyed version:
```typescript
const projectBubbles: Record<string, { position: string; rotate: string; bg: string; text: { en: string; fr: string } }[]> = {
  'codex-grove': [
    { text: { en: 'Simple Scheduling', fr: 'Planification simple' }, position: 'top-2 -left-4 lg:-left-16', rotate: '-5deg', bg: 'bg-amber-300' },
    { text: { en: 'Chat with your docs', fr: 'Discutez avec vos docs' }, position: 'top-1/4 -right-4 lg:-right-8', rotate: '4deg', bg: 'bg-lime-300' },
    { text: { en: 'Employee task management', fr: 'Gestion des taches employes' }, position: 'bottom-24 -left-4 lg:-left-12', rotate: '-3deg', bg: 'bg-cyan-300' },
  ],
  'distill': [
    { text: { en: 'Word -> Card in 30 sec', fr: 'Mot -> Carte en 30 sec' }, position: 'top-2 -left-4 lg:-left-12', rotate: '-4deg', bg: 'bg-violet-300' },
    { text: { en: 'Cross-platform sync', fr: 'Synchronisation multiplateforme' }, position: 'top-1/4 -right-4 lg:-right-6', rotate: '5deg', bg: 'bg-amber-300' },
    { text: { en: 'OCR text capture magic', fr: 'Magie de capture OCR' }, position: 'bottom-24 -left-4 lg:-left-10', rotate: '-6deg', bg: 'bg-rose-300' },
  ],
  'rippl': [
    { text: { en: 'Trauma-informed design', fr: 'Conception informee par le trauma' }, position: 'top-2 -left-4 lg:-left-12', rotate: '-3deg', bg: 'bg-sky-300' },
    { text: { en: 'Based on clinical research', fr: 'Base sur la recherche clinique' }, position: 'top-1/4 -right-4 lg:-right-6', rotate: '4deg', bg: 'bg-emerald-300' },
    { text: { en: 'Know thyself', fr: 'Connais-toi toi-meme' }, position: 'bottom-24 -left-4 lg:-left-10', rotate: '-5deg', bg: 'bg-amber-300' },
  ],
  'civix-solutions': [
    { text: { en: 'Minimal, yet powerful', fr: 'Minimal, mais puissant' }, position: 'top-2 -left-4 lg:-left-12', rotate: '-4deg', bg: 'bg-orange-300' },
    { text: { en: 'Bilingual from day one', fr: 'Bilingue des le premier jour' }, position: 'top-1/4 -right-4 lg:-right-6', rotate: '5deg', bg: 'bg-cyan-300' },
    { text: { en: 'PDF to Excel', fr: 'PDF vers Excel' }, position: 'bottom-24 -left-4 lg:-left-10', rotate: '-3deg', bg: 'bg-lime-300' },
  ],
}
```

4. Refactor Projects.tsx:

Add imports:
```typescript
import { useLocale, useTranslations } from '@/lib/i18n'
```

Update BentoCard to use locale:
```typescript
interface BentoCardProps {
  project: Project
  index: number
  size: BentoSize
  onClick: () => void
  isSelected: boolean
  locale: 'en' | 'fr'
}

function BentoCard({ project, index, size, onClick, isSelected, locale }: BentoCardProps) {
  const content = project.content[locale]
  const cursorProps = useCursorHover('text', content.cursorText || 'View project')
  // ...
  // Use content.tagline instead of project.tagline
  // Use bubble.text[locale] for bubble text
}
```

Update Projects component to pass locale and use translations:
```typescript
export function Projects({ selectedProject, onSelectProject }: ProjectsProps) {
  const { locale } = useLocale()
  const t = useTranslations()
  // ...

  // Section header: t('projects.header')
  // Section footer: t('projects.footer')
  // Coming Soon badge: t('projects.coming_soon')
  // Pass locale to BentoCard
}
```
  </action>
  <verify>
No hardcoded project text: `grep -E "Real projects|More in the works|Coming Soon" src/components/sections/Projects.tsx` returns nothing.
TypeScript compiles: `npx tsc --noEmit`
  </verify>
  <done>
Projects.tsx uses locale-keyed bubble data.
Projects.tsx uses t() for header, footer, badge text.
BentoCard accesses project.content[locale] for tagline.
  </done>
</task>

<task type="auto">
  <name>Task 3: Refactor ProjectDetail.tsx with translations</name>
  <files>messages/en.json, messages/fr.json, src/components/sections/ProjectDetail.tsx</files>
  <action>
1. Add project detail labels to messages/en.json:
```json
{
  "projects": {
    ...existing keys...,
    "labels": {
      "challenge": "Challenge",
      "approach": "Approach",
      "result": "Result",
      "built_with": "Built with",
      "visit_project": "Visit Project",
      "view_source": "View Source"
    }
  }
}
```

2. Add to messages/fr.json:
```json
{
  "projects": {
    ...existing keys...,
    "labels": {
      "challenge": "Defi",
      "approach": "Approche",
      "result": "Resultat",
      "built_with": "Construit avec",
      "visit_project": "Visiter le projet",
      "view_source": "Voir le code source"
    }
  }
}
```

3. Update projectBubbles in ProjectDetail.tsx with locale-keyed text (same pattern as Projects.tsx):
```typescript
const projectBubbles: Record<string, { position: string; rotate: string; bg: string; text: { en: string; fr: string } }[]> = {
  'codex-grove': [
    { text: { en: '220K+ lines of TypeScript', fr: '220K+ lignes de TypeScript' }, ... },
    { text: { en: 'AI that actually gets it', fr: 'Une IA qui comprend vraiment' }, ... },
    { text: { en: 'Kanban meets knowledge', fr: 'Kanban rencontre la connaissance' }, ... },
  ],
  // ... other projects with FR translations
}
```

4. Refactor ProjectDetail.tsx:

Add imports:
```typescript
import { useLocale, useTranslations } from '@/lib/i18n'
```

Update component:
```typescript
export function ProjectDetail({ project, onClose }: ProjectDetailProps) {
  const { locale } = useLocale()
  const t = useTranslations()
  const content = project.content[locale]
  // ...

  // Use content.tagline, content.challenge, content.approach, content.result
  // Use t('projects.labels.challenge'), t('projects.labels.approach'), etc.
  // Use bubble.text[locale] for bubble text
  // Use t('projects.labels.visit_project'), t('projects.labels.view_source')
}
```

Replace all hardcoded label strings:
- "Challenge" -> t('projects.labels.challenge')
- "Approach" -> t('projects.labels.approach')
- "Result" -> t('projects.labels.result')
- "Built with" -> t('projects.labels.built_with')
- "Visit Project" -> t('projects.labels.visit_project')
- "View Source" -> t('projects.labels.view_source')
  </action>
  <verify>
No hardcoded labels: `grep -E '"Challenge"|"Approach"|"Result"|"Built with"' src/components/sections/ProjectDetail.tsx` returns nothing.
TypeScript compiles: `npx tsc --noEmit`
  </verify>
  <done>
ProjectDetail.tsx uses t() for all labels.
ProjectDetail.tsx accesses project.content[locale] for tagline, challenge, approach, result.
Bubble text uses locale-keyed data.
  </done>
</task>

</tasks>

<verification>
1. TypeScript compiles: `npx tsc --noEmit`
2. Project types have LocalizedContent: `grep "LocalizedContent" src/types/project.ts`
3. Projects use locale: `grep "useLocale" src/components/sections/Projects.tsx`
4. ProjectDetail uses locale: `grep "useLocale" src/components/sections/ProjectDetail.tsx`
5. Labels in JSON: `grep "projects.labels" messages/en.json`
</verification>

<success_criteria>
- Project taglines display in French when FR selected
- Challenge/Approach/Result content displays in French when FR selected
- Section labels display in French when FR selected
- Hover bubbles display in French when FR selected
- CTA buttons (Visit Project, View Source) display in French when FR selected
- EN locale displays original English content
</success_criteria>

<output>
After completion, create `.planning/phases/08-content-migration/08-03-SUMMARY.md`
</output>
